import{g,S as E,f as x,i as I,a4 as m}from"./index-C10seGdN.js";g.registerPlugin(E);const B=(a,c={})=>{if(!a)return null;const l={...{duration:1.2,autoAlpha:0,y:30,x:0,ease:"power3.out",delay:0,clearProps:"all"},...c};return g.set(a,{autoAlpha:0,y:l.y,x:l.x}),g.to(a,{duration:l.duration,autoAlpha:1,y:0,x:0,ease:l.ease,delay:l.delay,clearProps:l.clearProps})},X=(a,c={})=>B(a,{...c,x:-50,y:0}),q=(a,c={})=>B(a,{...c,x:50,y:0}),F=(a,c={})=>B(a,{...c,x:0,y:50}),M=(a,c={})=>B(a,{...c,x:0,y:-50}),_=(a,c={})=>{if(!a||a.length===0)return null;const l={...{duration:.8,autoAlpha:0,y:20,stagger:.15,ease:"power3.out",delay:0},...c};return g.set(a,{autoAlpha:0,y:l.y}),g.to(a,{duration:l.duration,autoAlpha:1,y:0,stagger:l.stagger,ease:l.ease,delay:l.delay,clearProps:"all"})},U=(a,c={})=>{if(!a)return null;const l={...{duration:1,scale:.9,autoAlpha:0,ease:"back.out(1.7)",delay:0,clearProps:"all"},...c};return g.set(a,{autoAlpha:0,scale:l.scale}),g.to(a,{duration:l.duration,autoAlpha:1,scale:1,ease:l.ease,delay:l.delay,clearProps:l.clearProps})},j=Object.freeze(Object.defineProperty({__proto__:null,fadeIn:B,fadeInDown:M,fadeInLeft:X,fadeInRight:q,fadeInStagger:_,fadeInUp:F,scaleIn:U},Symbol.toStringTag,{value:"Module"}));function b(){const a=x(new Set),c=x(!1),S=(r,u,o,t={})=>{if(!u||!o)return console.warn("Invalid trigger or animation provided"),null;try{const d={trigger:u,start:"top 75%",end:"bottom 25%",toggleActions:"play none none reverse",markers:!1,invalidateOnRefresh:!0,fastScrollEnd:!0,onEnter:()=>{var f;c.value=!0,(f=t.onEnter)==null||f.call(t)},onLeave:()=>{var f;c.value=!1,(f=t.onLeave)==null||f.call(t)},onEnterBack:()=>{var f;c.value=!0,(f=t.onEnterBack)==null||f.call(t)},onLeaveBack:()=>{var f;c.value=!1,(f=t.onLeaveBack)==null||f.call(t)}},O=m.createScrollTrigger(r,u,o,{...d,...t});return O&&a.value.add(r),O}catch(d){return console.error("Error creating scroll trigger:",d),null}},l=(r,u,o,t={})=>{if(console.log(`createScrollTimeline被调用: ${r}`,{trigger:u,options:t}),!u||typeof o!="function")return console.warn("需要提供有效的触发元素和时间线工厂函数"),null;try{const d=o();console.log(`时间线已创建: ${r}`,d),d.pause();const O={...t,onEnter:()=>{var v;console.log(`触发onEnter: ${r}`),d.play(),(v=t.onEnter)==null||v.call(t)},onLeave:()=>{var v;console.log(`触发onLeave: ${r}`),d.reverse(),(v=t.onLeave)==null||v.call(t)},onEnterBack:()=>{var v;console.log(`触发onEnterBack: ${r}`),d.play(),(v=t.onEnterBack)==null||v.call(t)},onLeaveBack:()=>{var v;console.log(`触发onLeaveBack: ${r}`),d.reverse(),(v=t.onLeaveBack)==null||v.call(t)}};console.log(`准备创建ScrollTrigger: ${r}`,O);const f=m.createScrollTrigger(r,u,d,O);return console.log(`ScrollTrigger创建结果: ${r}`,f),f&&a.value.add(r),{timeline:d,scrollTrigger:f}}catch(d){return console.error(`Error creating scroll timeline (${r}):`,d),null}},y=(r,u={})=>{if(!r)return null;try{const o={y:100,ease:"none",scrub:!0,invalidateOnRefresh:!0};return S(`parallax-${Date.now()}`,r,g.to(r,{y:u.y||o.y,ease:u.ease||o.ease,...u}),{scrub:u.scrub??o.scrub,invalidateOnRefresh:u.invalidateOnRefresh??o.invalidateOnRefresh})}catch(o){return console.error("Error creating parallax effect:",o),null}},h=(r,u={})=>{if(!r)return null;try{const o={start:"top top",end:"bottom bottom",scrub:!0,invalidateOnRefresh:!0};return S(`progress-${Date.now()}`,r,g.to(r,{scaleX:1,transformOrigin:"left",ease:"none",...u}),{start:u.start||o.start,end:u.end||o.end,scrub:u.scrub??o.scrub,invalidateOnRefresh:u.invalidateOnRefresh??o.invalidateOnRefresh})}catch(o){return console.error("Error creating scroll progress:",o),null}},T=(r,u={})=>{if(!r)return null;try{const o={start:"top 80%",end:"top 20%",toggleActions:"play reverse play reverse"},t=S(`scroll-to-top-${Date.now()}`,r,g.to(r,{opacity:1,y:0,duration:.3,ease:"power2.out",...u}),{start:u.start||o.start,end:u.end||o.end,toggleActions:u.toggleActions||o.toggleActions});return t&&r.addEventListener("click",()=>{g.to(window,{duration:.8,scrollTo:{y:0,autoKill:!1},ease:"power2.inOut"})}),t}catch(o){return console.error("Error creating scroll to top button:",o),null}},w=()=>{try{a.value.forEach(r=>{m.clearScrollTrigger(r)}),a.value.clear(),c.value=!1}catch(r){console.error("Error clearing scroll triggers:",r)}};return I(()=>{w()}),{isScrolling:c,createScrollTrigger:S,createScrollTimeline:l,createParallaxEffect:y,createScrollProgress:h,createScrollToTop:T,clearAll:w}}function z(){const{createScrollTimeline:a}=b();return{createSideBySideAnimation:(l,y,h,T={})=>!l||!y||!h?null:a(`side-by-side-${Date.now()}`,l,()=>{const w=g.timeline();return g.set(y,{autoAlpha:0,x:-60}),g.set(h,{autoAlpha:0,x:60}),w.to(y,{duration:1.2,autoAlpha:1,x:0,ease:"power3.out",delay:T.delay||.2}).to(h,{duration:1.2,autoAlpha:1,x:0,ease:"power3.out"},"-=0.9"),w},T),createSequenceAnimation:(l,y,h={})=>!l||!y||y.length===0?null:a(`sequence-${Date.now()}`,l,()=>{const T=g.timeline(),r={...{y:30,stagger:.15,duration:.8},...h};return g.set(y,{autoAlpha:0,y:r.y}),T.to(y,{duration:r.duration,autoAlpha:1,y:0,stagger:r.stagger,ease:"power2.out",delay:h.delay||0}),T},h)}}g.registerPlugin(E);function W(){const a=x(!1),c=x(null),S=x(new Set),{fadeIn:l,fadeInLeft:y,fadeInRight:h,fadeInUp:T,fadeInDown:w,fadeInStagger:r,scaleIn:u}=j,o=b(),t=z(),d=(e,n={})=>{const s=n.direction||"up";return({left:y,right:h,up:T,down:w,scale:u,fade:l}[s]||l)(e,n)},O=(e,n,s,i={})=>t.createSideBySideAnimation(e,n,s,i),f=(e,n={})=>{if(!e)return null;n.direction;const s=n.scrollOptions||{};return o.createScrollTrigger(e,()=>d(e,n),s)},v=(e,n={})=>r(e,n),$=(e,n,s={})=>!e||!n||n.length===0?null:t.createSequenceAnimation(e,n,s),p=(e,n,s,i={})=>(console.log("animateContactFormSection被调用",{container:e,leftElement:n,rightElement:s,options:i}),!e||!n||!s?(console.warn("ContactForm动画需要提供所有必要的元素"),null):(n.style.opacity="0",n.style.transform="translateX(-80px) scale(0.9)",s.style.opacity="0",s.style.transform="translateX(80px) scale(0.9)",setTimeout(()=>{n.style.transition="opacity 1s ease, transform 1s ease",n.style.opacity="1",n.style.transform="translateX(0) scale(1)",setTimeout(()=>{s.style.transition="opacity 1s ease, transform 1s ease",s.style.opacity="1",s.style.transform="translateX(0) scale(1)"},300)},i.delay||200),{success:!0})),P=(e={})=>{try{const n={paused:!0,defaults:{ease:"power2.out"}};return c.value=g.timeline({...n,...e}),c.value}catch(n){return console.error("Error creating animation timeline:",n),null}},R=(e,n,s,i={})=>{if(!n||!s)return console.warn("Invalid trigger or animation provided"),null;try{const k=m.createScrollTrigger(e,n,s,{...i,onEnter:()=>{var A;a.value=!0,(A=i.onEnter)==null||A.call(i)},onLeave:()=>{var A;a.value=!1,(A=i.onLeave)==null||A.call(i)},onEnterBack:()=>{var A;a.value=!0,(A=i.onEnterBack)==null||A.call(i)},onLeaveBack:()=>{var A;a.value=!1,(A=i.onLeaveBack)==null||A.call(i)}});return k&&S.value.add(e),k}catch(k){return console.error("Error creating scroll trigger:",k),null}},C=(e,n={})=>{if(!e)return null;try{const s={duration:.5,ease:"power2.in",onStart:()=>e.style.willChange="opacity",onComplete:()=>e.style.willChange="auto"};return g.to(e,{opacity:0,...s,...n})}catch(s){return console.error("Error creating fade out animation:",s),null}},D=(e,n={})=>{if(!(e!=null&&e.length))return null;try{const s={duration:.5,stagger:.1,ease:"power2.out",onStart:()=>e.forEach(i=>i.style.willChange="transform, opacity"),onComplete:()=>e.forEach(i=>i.style.willChange="auto")};return g.from(e,{opacity:0,y:20,...s,...n})}catch(s){return console.error("Error creating stagger animation:",s),null}},L=()=>{try{c.value&&(c.value.kill(),c.value=null),S.value.forEach(e=>{m.clearScrollTrigger(e)}),S.value.clear(),a.value=!1}catch(e){console.error("Error clearing animations:",e)}};return I(()=>{L()}),{fadeIn:l,fadeInLeft:y,fadeInRight:h,fadeInUp:T,fadeInDown:w,scaleIn:u,animate:d,animateStaggered:v,animateOnScroll:f,animateStaggeredOnScroll:$,animateAboutSection:O,animateContactFormSection:p,scrollTrigger:o,standardAnimations:t,isAnimating:a,createTimeline:P,createScrollTrigger:R,fadeOut:C,staggerAnimation:D,clearAnimations:L}}export{W as u};
