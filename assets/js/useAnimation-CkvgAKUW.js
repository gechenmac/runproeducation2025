import{g as e}from"./gsap-Cyf3JaYP.js";import{S as r,g as a}from"./index-BT60wIGi.js";import{r as t,f as n}from"./vendor-BGXXuiod.js";e.registerPlugin(r);const l=(r,a={})=>{if(!r)return null;const t={duration:1.2,autoAlpha:0,y:30,x:0,ease:"power3.out",delay:0,clearProps:"all",...a};return e.set(r,{autoAlpha:0,y:t.y,x:t.x}),e.to(r,{duration:t.duration,autoAlpha:1,y:0,x:0,ease:t.ease,delay:t.delay,clearProps:t.clearProps})},o=Object.freeze(Object.defineProperty({__proto__:null,fadeIn:l,fadeInDown:(e,r={})=>l(e,{...r,x:0,y:-50}),fadeInLeft:(e,r={})=>l(e,{...r,x:-50,y:0}),fadeInRight:(e,r={})=>l(e,{...r,x:50,y:0}),fadeInStagger:(r,a={})=>{if(!r||0===r.length)return null;const t={duration:.8,autoAlpha:0,y:20,stagger:.15,ease:"power3.out",delay:0,...a};return e.set(r,{autoAlpha:0,y:t.y}),e.to(r,{duration:t.duration,autoAlpha:1,y:0,stagger:t.stagger,ease:t.ease,delay:t.delay,clearProps:"all"})},fadeInUp:(e,r={})=>l(e,{...r,x:0,y:50}),scaleIn:(r,a={})=>{if(!r)return null;const t={duration:1,scale:.9,autoAlpha:0,ease:"back.out(1.7)",delay:0,clearProps:"all",...a};return e.set(r,{autoAlpha:0,scale:t.scale}),e.to(r,{duration:t.duration,autoAlpha:1,scale:1,ease:t.ease,delay:t.delay,clearProps:t.clearProps})}},Symbol.toStringTag,{value:"Module"}));function c(){const r=t(new Set),l=t(!1),o=(e,t,n,o={})=>{if(!t||!n)return console.warn("Invalid trigger or animation provided"),null;try{const c={trigger:t,start:"top 75%",end:"bottom 25%",toggleActions:"play none none reverse",markers:!1,invalidateOnRefresh:!0,fastScrollEnd:!0,onEnter:()=>{var e;l.value=!0,null==(e=o.onEnter)||e.call(o)},onLeave:()=>{var e;l.value=!1,null==(e=o.onLeave)||e.call(o)},onEnterBack:()=>{var e;l.value=!0,null==(e=o.onEnterBack)||e.call(o)},onLeaveBack:()=>{var e;l.value=!1,null==(e=o.onLeaveBack)||e.call(o)}},s=a.createScrollTrigger(e,t,n,{...c,...o});return s&&r.value.add(e),s}catch(c){return console.error("Error creating scroll trigger:",c),null}},c=()=>{try{r.value.forEach((e=>{a.clearScrollTrigger(e)})),r.value.clear(),l.value=!1}catch(e){console.error("Error clearing scroll triggers:",e)}};return n((()=>{c()})),{isScrolling:l,createScrollTrigger:o,createScrollTimeline:(e,t,n,l={})=>{if(console.log(`createScrollTimeline被调用: ${e}`,{trigger:t,options:l}),!t||"function"!=typeof n)return console.warn("需要提供有效的触发元素和时间线工厂函数"),null;try{const o=n();console.log(`时间线已创建: ${e}`,o),o.pause();const c={...l,onEnter:()=>{var r;console.log(`触发onEnter: ${e}`),o.play(),null==(r=l.onEnter)||r.call(l)},onLeave:()=>{var r;console.log(`触发onLeave: ${e}`),o.reverse(),null==(r=l.onLeave)||r.call(l)},onEnterBack:()=>{var r;console.log(`触发onEnterBack: ${e}`),o.play(),null==(r=l.onEnterBack)||r.call(l)},onLeaveBack:()=>{var r;console.log(`触发onLeaveBack: ${e}`),o.reverse(),null==(r=l.onLeaveBack)||r.call(l)}};console.log(`准备创建ScrollTrigger: ${e}`,c);const s=a.createScrollTrigger(e,t,o,c);return console.log(`ScrollTrigger创建结果: ${e}`,s),s&&r.value.add(e),{timeline:o,scrollTrigger:s}}catch(o){return console.error(`Error creating scroll timeline (${e}):`,o),null}},createParallaxEffect:(r,a={})=>{if(!r)return null;try{const t={y:100,ease:"none",scrub:!0,invalidateOnRefresh:!0};return o(`parallax-${Date.now()}`,r,e.to(r,{y:a.y||t.y,ease:a.ease||t.ease,...a}),{scrub:a.scrub??t.scrub,invalidateOnRefresh:a.invalidateOnRefresh??t.invalidateOnRefresh})}catch(t){return console.error("Error creating parallax effect:",t),null}},createScrollProgress:(r,a={})=>{if(!r)return null;try{const t={start:"top top",end:"bottom bottom",scrub:!0,invalidateOnRefresh:!0};return o(`progress-${Date.now()}`,r,e.to(r,{scaleX:1,transformOrigin:"left",ease:"none",...a}),{start:a.start||t.start,end:a.end||t.end,scrub:a.scrub??t.scrub,invalidateOnRefresh:a.invalidateOnRefresh??t.invalidateOnRefresh})}catch(t){return console.error("Error creating scroll progress:",t),null}},createScrollToTop:(r,a={})=>{if(!r)return null;try{const t={start:"top 80%",end:"top 20%",toggleActions:"play reverse play reverse"},n=o(`scroll-to-top-${Date.now()}`,r,e.to(r,{opacity:1,y:0,duration:.3,ease:"power2.out",...a}),{start:a.start||t.start,end:a.end||t.end,toggleActions:a.toggleActions||t.toggleActions});return n&&r.addEventListener("click",(()=>{e.to(window,{duration:.8,scrollTo:{y:0,autoKill:!1},ease:"power2.inOut"})})),n}catch(t){return console.error("Error creating scroll to top button:",t),null}},clearAll:c}}function s(){const r=t(!1),l=t(null),s=t(new Set),{fadeIn:i,fadeInLeft:u,fadeInRight:g,fadeInUp:d,fadeInDown:p,fadeInStagger:y,scaleIn:f}=o,v=c(),m=function(){const{createScrollTimeline:r}=c();return{createSideBySideAnimation:(a,t,n,l={})=>a&&t&&n?r(`side-by-side-${Date.now()}`,a,(()=>{const r=e.timeline();return e.set(t,{autoAlpha:0,x:-60}),e.set(n,{autoAlpha:0,x:60}),r.to(t,{duration:1.2,autoAlpha:1,x:0,ease:"power3.out",delay:l.delay||.2}).to(n,{duration:1.2,autoAlpha:1,x:0,ease:"power3.out"},"-=0.9"),r}),l):null,createSequenceAnimation:(a,t,n={})=>a&&t&&0!==t.length?r(`sequence-${Date.now()}`,a,(()=>{const r=e.timeline(),a={y:30,stagger:.15,duration:.8,...n};return e.set(t,{autoAlpha:0,y:a.y}),r.to(t,{duration:a.duration,autoAlpha:1,y:0,stagger:a.stagger,ease:"power2.out",delay:n.delay||0}),r}),n):null}}(),h=(e,r={})=>{const a=r.direction||"up";return({left:u,right:g,up:d,down:p,scale:f,fade:i}[a]||i)(e,r)},S=()=>{try{l.value&&(l.value.kill(),l.value=null),s.value.forEach((e=>{a.clearScrollTrigger(e)})),s.value.clear(),r.value=!1}catch(e){console.error("Error clearing animations:",e)}};return n((()=>{S()})),{fadeIn:i,fadeInLeft:u,fadeInRight:g,fadeInUp:d,fadeInDown:p,scaleIn:f,animate:h,animateStaggered:(e,r={})=>y(e,r),animateOnScroll:(e,r={})=>{if(!e)return null;r.direction;const a=r.scrollOptions||{};return v.createScrollTrigger(e,(()=>h(e,r)),a)},animateStaggeredOnScroll:(e,r,a={})=>e&&r&&0!==r.length?m.createSequenceAnimation(e,r,a):null,animateAboutSection:(e,r,a,t={})=>m.createSideBySideAnimation(e,r,a,t),animateContactFormSection:(e,r,a,t={})=>(console.log("animateContactFormSection被调用",{container:e,leftElement:r,rightElement:a,options:t}),e&&r&&a?(r.style.opacity="0",r.style.transform="translateX(-80px) scale(0.9)",a.style.opacity="0",a.style.transform="translateX(80px) scale(0.9)",setTimeout((()=>{r.style.transition="opacity 1s ease, transform 1s ease",r.style.opacity="1",r.style.transform="translateX(0) scale(1)",setTimeout((()=>{a.style.transition="opacity 1s ease, transform 1s ease",a.style.opacity="1",a.style.transform="translateX(0) scale(1)"}),300)}),t.delay||200),{success:!0}):(console.warn("ContactForm动画需要提供所有必要的元素"),null)),scrollTrigger:v,standardAnimations:m,isAnimating:r,createTimeline:(r={})=>{try{const a={paused:!0,defaults:{ease:"power2.out"}};return l.value=e.timeline({...a,...r}),l.value}catch(a){return console.error("Error creating animation timeline:",a),null}},createScrollTrigger:(e,t,n,l={})=>{if(!t||!n)return console.warn("Invalid trigger or animation provided"),null;try{const o=a.createScrollTrigger(e,t,n,{...l,onEnter:()=>{var e;r.value=!0,null==(e=l.onEnter)||e.call(l)},onLeave:()=>{var e;r.value=!1,null==(e=l.onLeave)||e.call(l)},onEnterBack:()=>{var e;r.value=!0,null==(e=l.onEnterBack)||e.call(l)},onLeaveBack:()=>{var e;r.value=!1,null==(e=l.onLeaveBack)||e.call(l)}});return o&&s.value.add(e),o}catch(o){return console.error("Error creating scroll trigger:",o),null}},fadeOut:(r,a={})=>{if(!r)return null;try{const t={duration:.5,ease:"power2.in",onStart:()=>r.style.willChange="opacity",onComplete:()=>r.style.willChange="auto"};return e.to(r,{opacity:0,...t,...a})}catch(t){return console.error("Error creating fade out animation:",t),null}},staggerAnimation:(r,a={})=>{if(!(null==r?void 0:r.length))return null;try{const t={duration:.5,stagger:.1,ease:"power2.out",onStart:()=>r.forEach((e=>e.style.willChange="transform, opacity")),onComplete:()=>r.forEach((e=>e.style.willChange="auto"))};return e.from(r,{opacity:0,y:20,...t,...a})}catch(t){return console.error("Error creating stagger animation:",t),null}},clearAnimations:S}}e.registerPlugin(r);export{s as u};
